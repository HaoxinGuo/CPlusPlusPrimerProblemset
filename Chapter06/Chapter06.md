# 函数 
函数是一个命名了的代码块，我们通过调用函数执行相应的代码。函数可以有0个或多个参数，而且（通常）会产生一个结果。  
---
## 函数基础  
一个典型的函数（function）定义包括以下部分：返回类型（return type）、函数名字、由0个或多个形参（parameter）组成的列表以及函数体。  
我们通过**调用运算符（call operator）**来执行函数。调用运算符的形式是一对圆括号，它作用于一个表达式，该表达式是函数或者指向函数的指针；圆括号内是一个用逗号隔开的实参列表，我们用实参初始化函数的形参。调用表达式的类型就是函数的返回类型。  
函数的调用完成两项工作：一是用实参初始化函数对应的形参，二是将控制权转移给被调用函数。此时，**主调函数**（calling function）的执行暂时被中断，**被调函数**（called function）开始执行。  
当遇到一条return语句时函数结束执行过程。函数的返回值用于初始化调用表达式的结果。  
**函数返回类型**
大多数类型都能用作函数的返回类型。一种特殊的返回类型是void，它表示函数不返回任何类型。函数的返回类型不能是数组类型或函数类型，但可以是指向数组或函数的指针。  
### 局部对象
在C++语言中，名字有作用域，对象有**生命周期（lifetime）**，理解这两个概念非常重要：  
- 名字的作用域是程序文本的一部分，名字在其中可见。  
- 对象的生命周期是程序执行过程中该对象存在的一段时间。  
形参和函数体内部定义的变量统称为**局部变量（local variable）**。它们仅在函数的作用域内可见。  
在所有函数体之外定义的对象存在于程序的整个执行过程中。此类对象在程序启动时被创建，直到程序结束才会销毁。局部变量的生命周期依赖于定义的方式。  
**自动对象**  
对于普通局部变量对应的对象来说，当函数的控制路径经过变量定义语句时创建该对象，当到达定义所在的块末尾时销毁它。我们把只存在于块执行期间的对象称为**自动对象（automatic object）**。  
形参是一种自动对象。函数开始时为形参申请存储空间，函数一旦终止，形参就被销毁。  
对于局部变量对应的自动对象来说，如果变量定义本身含有初始值，就用这个初始值进行初始化；否则执行默认初始化（内置类型产生未定义的值）。  
**局部静态对象（local static object）**在程序的执行路径第一次经过对象定义语句时初始化，并且直到程序终止才被销毁。例：  
```c++
// 统计函数被调用了多少次
size_t count_calls()
{
    static size_t ctr = 0; // 调用结束后，这个值仍然有效
    return ++ctr;
}
```  
### 函数声明
函数的名字必须在使用之前声明。类似于变量，函数只能定义一次，但可以声明多次。  
函数的声明和定义唯一的区别是**声明无须函数体**，用一个分号替代即可。  
函数的三要素（返回类型、函数名、形参类型）描述了函数的接口，说明了调用该函数所需的全部信息。函数声明也称作**函数原型（function prototype）**。  
**在头文件中进行函数声明**
我们建议函数在头文件中声明，在源文件中定义。
这是因为如果把函数声明放在头文件中，就能确保同一函数的所有声明保持一致。而且一旦我们想改变函数的接口，只需改变一条声明即可。
定义函数的源文件应该把含有函数声明的头文件包含进来，编译器负责验证函数的定义和声明是否匹配。  
### 分离式编译
C++语言支持所谓的**分离式编译（separate compilation）**。分离式编译允许我们把程序分割到几个文件中去，每个文件独立编译。  